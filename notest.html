<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø¬Ù…Ø¹ Ø§Ù„ØµÙˆØ± - ÙˆØ§Ø¬Ù‡Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ============== CSS Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ®ØµÙŠØµ ============== */
        :root {
            --primary: #2E86AB;
            --secondary: #A23B72;
            --accent: #F18F01;
            --success: #4CAF50;
            --danger: #F44336;
            --light: #F8F9FA;
            --dark: #212529;
            --border-radius: 12px;
            --box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            min-height: 90vh;
        }
        
        /* ============== Ø§Ù„Ù‡ÙŠØ¯Ø± ============== */
        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }
        
        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .admin-toggle {
            position: absolute;
            left: 20px;
            top: 20px;
            background: rgba(255,255,255,0.2);
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* ============== Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø®ÙÙŠØ© ============== */
        .control-panel {
            position: fixed;
            top: 100px;
            left: 20px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            width: 300px;
            z-index: 1000;
            display: none;
            border: 3px solid var(--accent);
        }
        
        .control-panel.active {
            display: block;
        }
        
        .control-section {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .control-section h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-btn {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: none;
            border-radius: 8px;
            background: var(--light);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .control-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateX(-5px);
        }
        
        /* ============== ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ============== */
        .main-content {
            padding: 30px;
        }
        
        /* ============== Ù‚Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© ============== */
        .code-section {
            background: var(--light);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }
        
        .code-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .code-item {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            position: relative;
        }
        
        .code-item:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 20px rgba(46, 134, 171, 0.2);
        }
        
        .code-item.selected {
            background: var(--primary);
            color: white;
            border-color: var(--secondary);
        }
        
        .code-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .code-name {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* ============== Ù‚Ø³Ù… Ø§Ù„ØµÙˆØ± ============== */
        .photos-section {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            border: 2px solid var(--light);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }
        
        .section-title {
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .photos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .photo-card {
            border: 3px dashed #ddd;
            border-radius: var(--border-radius);
            height: 220px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9ff;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .photo-card:hover {
            border-color: var(--primary);
            transform: scale(1.02);
        }
        
        .photo-card.has-image {
            border-style: solid;
            border-color: var(--success);
        }
        
        .photo-preview {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }
        
        .photo-number {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }
        
        /* ============== Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø®ØµØµØ© ============== */
        .custom-fields {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .field-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .field-group {
            margin-bottom: 25px;
        }
        
        .field-label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .field-label i {
            color: var(--primary);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(46, 134, 171, 0.1);
        }
        
        /* ============== Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ============== */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .action-btn {
            padding: 20px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(46, 134, 171, 0.3);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        /* ============== Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ============== */
        .camera-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
        }
        
        .camera-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1000px;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .camera-header {
            background: var(--dark);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .camera-video {
            width: 100%;
            height: 500px;
            background: #000;
            object-fit: contain;
        }
        
        .camera-controls {
            padding: 20px;
            background: var(--light);
            text-align: center;
        }
        
        /* ============== ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ============== */
        .alert {
            padding: 20px;
            margin: 20px 0;
            border-radius: var(--border-radius);
            display: none;
            align-items: center;
            gap: 15px;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* ============== Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª ============== */
        .draggable {
            cursor: move;
        }
        
        .drag-over {
            border: 3px dashed var(--accent) !important;
            background: #fff8e1 !important;
        }
        
        /* ============== ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„ ============== */
        @media (max-width: 768px) {
            .code-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .photos-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .field-row {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .control-panel {
                width: 90%;
                left: 5%;
                top: 80px;
            }
        }
        
        /* ============== ØªØ£Ø«ÙŠØ±Ø§Øª Ø®Ø§ØµØ© ============== */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(46, 134, 171, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(46, 134, 171, 0); }
            100% { box-shadow: 0 0 0 0 rgba(46, 134, 171, 0); }
        }
        
        .shake {
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ============== Ø§Ù„Ù‡ÙŠØ¯Ø± ============== -->
        <header>
            <div class="logo">
                <i class="fas fa-camera"></i> Ù†Ø¸Ø§Ù… Ø¬Ù…Ø¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
            </div>
            <h1 id="mainTitle">ğŸ“¸ Ù†Ø¸Ø§Ù… Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØµÙˆØ±</h1>
            <p id="mainSubtitle">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙˆØ¯ØŒ Ø§Ù„ØªÙ‚Ø· Ø§Ù„ØµÙˆØ±ØŒ Ø£Ø±Ø³Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>
            
            <div class="admin-toggle" onclick="toggleControlPanel()">
                <i class="fas fa-cogs"></i>
                <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
            </div>
        </header>
        
        <!-- ============== Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø®ÙÙŠØ© ============== -->
        <div class="control-panel" id="controlPanel">
            <div class="control-section">
                <h4><i class="fas fa-palette"></i> ØªØ®ØµÙŠØµ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©</h4>
                <button class="control-btn" onclick="changeTheme('blue')">
                    <i class="fas fa-palette"></i> ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù†
                </button>
                <button class="control-btn" onclick="changeLayout()">
                    <i class="fas fa-columns"></i> ØªØºÙŠÙŠØ± Ø§Ù„ØªØ®Ø·ÙŠØ·
                </button>
                <button class="control-btn" onclick="renameSections()">
                    <i class="fas fa-edit"></i> ØªØºÙŠÙŠØ± Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
                </button>
            </div>
            
            <div class="control-section">
                <h4><i class="fas fa-plus-circle"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„</h4>
                <button class="control-btn" onclick="addNewField()">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ Ø¬Ø¯ÙŠØ¯
                </button>
                <button class="control-btn" onclick="removeField()">
                    <i class="fas fa-minus"></i> Ø­Ø°Ù Ø­Ù‚Ù„
                </button>
                <button class="control-btn" onclick="reorderFields()">
                    <i class="fas fa-sort"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„
                </button>
            </div>
            
            <div class="control-section">
                <h4><i class="fas fa-code"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</h4>
                <button class="control-btn" onclick="addNewCode()">
                    <i class="fas fa-plus-square"></i> Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯
                </button>
                <button class="control-btn" onclick="editCodes()">
                    <i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯
                </button>
                <button class="control-btn" onclick="importCodes()">
                    <i class="fas fa-file-import"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø£ÙƒÙˆØ§Ø¯
                </button>
            </div>
            
            <div class="control-section">
                <h4><i class="fas fa-camera"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØ±</h4>
                <button class="control-btn" onclick="changePhotoCount()">
                    <i class="fas fa-image"></i> ØªØºÙŠÙŠØ± Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ±
                </button>
                <button class="control-btn" onclick="setImageQuality()">
                    <i class="fas fa-cog"></i> Ø¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØ±
                </button>
            </div>
            
            <div class="control-section">
                <h4><i class="fas fa-database"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h4>
                <button class="control-btn" onclick="exportAllData()">
                    <i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                </button>
                <button class="control-btn" onclick="clearAllData()">
                    <i class="fas fa-trash"></i> Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                </button>
                <button class="control-btn" onclick="backupData()">
                    <i class="fas fa-save"></i> Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
                </button>
            </div>
            
            <button class="control-btn" style="background: var(--danger); color: white; margin-top: 20px;" onclick="toggleControlPanel()">
                <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
            </button>
        </div>
        
        <!-- ============== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ============== -->
        <div class="main-content">
            <!-- Ø§Ù„Ù‚Ø³Ù… 1: Ø§Ø®ØªÙŠØ§Ø± ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© -->
            <div class="code-section" id="codeSection">
                <div class="section-header">
                    <h2 class="section-title" id="codeSectionTitle">
                        <i class="fas fa-qrcode"></i> Ø§Ø®ØªØ± ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
                    </h2>
                    <div style="color: #666; font-size: 14px;">
                        <i class="fas fa-info-circle"></i> Ø§Ø®ØªØ± Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„ Ø¨Ù‡Ø§
                    </div>
                </div>
                
                <div class="code-grid" id="codesContainer">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
            
            <!-- Ø§Ù„Ù‚Ø³Ù… 2: Ø§Ù„ØµÙˆØ± Ø§Ù„Ø£ÙˆÙ„Ù‰ -->
            <div class="photos-section" id="firstPhotosSection">
                <div class="section-header">
                    <h2 class="section-title" id="firstPhotosTitle">
                        <i class="fas fa-images"></i> Ø§Ù„ØµÙˆØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                    </h2>
                    <div id="firstPhotosCounter" style="color: var(--primary); font-weight: bold;">
                        0/5 ØµÙˆØ± Ù…Ø±ÙÙˆØ¹Ø©
                    </div>
                </div>
                
                <div class="photos-grid" id="firstPhotosGrid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
            
            <!-- Ø§Ù„Ù‚Ø³Ù… 3: Ø§Ù„ØµÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠØ© -->
            <div class="photos-section" id="secondPhotosSection">
                <div class="section-header">
                    <h2 class="section-title" id="secondPhotosTitle">
                        <i class="fas fa-images"></i> Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
                    </h2>
                    <div id="secondPhotosCounter" style="color: var(--primary); font-weight: bold;">
                        0/5 ØµÙˆØ± Ù…Ø±ÙÙˆØ¹Ø©
                    </div>
                </div>
                
                <div class="photos-grid" id="secondPhotosGrid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
            
            <!-- Ø§Ù„Ù‚Ø³Ù… 4: Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø®ØµØµØ© -->
            <div class="custom-fields" id="customFieldsSection">
                <div class="section-header">
                    <h2 class="section-title" id="fieldsSectionTitle">
                        <i class="fas fa-edit"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                    </h2>
                    <div style="color: #666; font-size: 14px;">
                        <i class="fas fa-pen"></i> Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
                    </div>
                </div>
                
                <div id="fieldsContainer">
                    <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø³ØªØ¶Ø§Ù Ù‡Ù†Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
            
            <!-- Ø§Ù„Ù‚Ø³Ù… 5: Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ -->
            <div class="action-buttons">
                <button class="action-btn btn-primary" onclick="submitAllData()">
                    <i class="fas fa-paper-plane"></i>
                    <div>
                        <div>Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                        <small style="font-size: 14px; opacity: 0.9;">Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±Ù ÙˆGoogle Drive</small>
                    </div>
                </button>
                
                <button class="action-btn btn-success" onclick="saveAsDraft()">
                    <i class="fas fa-save"></i>
                    <div>
                        <div>Ø­ÙØ¸ ÙƒÙ…Ø³ÙˆØ¯Ø©</div>
                        <small style="font-size: 14px; opacity: 0.9;">Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù…ÙˆØ§ØµÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹</small>
                    </div>
                </button>
                
                <button class="action-btn btn-danger" onclick="clearForm()">
                    <i class="fas fa-trash"></i>
                    <div>
                        <div>Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</div>
                        <small style="font-size: 14px; opacity: 0.9;">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„</small>
                    </div>
                </button>
            </div>
            
            <!-- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
            <div id="mainAlert" class="alert"></div>
        </div>
    </div>
    
    <!-- ============== Ù†Ø§ÙØ°Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ============== -->
    <div class="camera-modal" id="cameraModal">
        <div class="camera-content">
            <div class="camera-header">
                <h3><i class="fas fa-camera"></i> ÙƒØ§Ù…ÙŠØ±Ø§ NotCam</h3>
                <button onclick="closeCamera()" style="background: transparent; border: none; color: white; font-size: 24px; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <video id="cameraVideo" class="camera-video" autoplay></video>
            <div class="camera-controls">
                <button onclick="capturePhoto()" style="background: var(--primary); color: white; border: none; width: 80px; height: 80px; border-radius: 50%; font-size: 30px; cursor: pointer; margin: 0 10px;">
                    <i class="fas fa-camera"></i>
                </button>
                <button onclick="switchCamera()" style="background: var(--secondary); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-size: 16px; cursor: pointer; margin: 0 10px;">
                    <i class="fas fa-sync-alt"></i> ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                </button>
                <button onclick="uploadFromGallery()" style="background: var(--accent); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-size: 16px; cursor: pointer; margin: 0 10px;">
                    <i class="fas fa-folder-open"></i> Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù…Ø¹Ø±Ø¶
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============== JavaScript Ø§Ù„ÙƒØ§Ù…Ù„ Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ®ØµÙŠØµ ==============
        
        // ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„
        const APP_CONFIG = {
            appName: "Ù†Ø¸Ø§Ù… Ø¬Ù…Ø¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
            appVersion: "2.0",
            photoCount: {
                firstSet: 5,    // Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø£ÙˆÙ„Ù‰ - ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡
                secondSet: 5    // Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠØ© - ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡
            },
            codes: [
                { id: 'CODE001', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©', color: '#2E86AB' },
                { id: 'CODE002', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©', color: '#A23B72' },
                { id: 'CODE003', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©', color: '#F18F01' },
                { id: 'CODE004', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©', color: '#4CAF50' },
                { id: 'CODE005', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©', color: '#9C27B0' },
                { id: 'CODE006', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©', color: '#FF5722' },
                { id: 'CODE007', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø³ÙƒÙ†ÙŠØ©', color: '#607D8B' },
                { id: 'CODE008', name: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©', color: '#795548' }
            ],
            customFields: [
                { id: 'field1', type: 'text', label: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', required: true, icon: 'fas fa-user' },
                { id: 'field2', type: 'select', label: 'Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±', options: ['ÙŠÙˆÙ…ÙŠ', 'Ø£Ø³Ø¨ÙˆØ¹ÙŠ', 'Ø´Ù‡Ø±ÙŠ'], icon: 'fas fa-file-alt' },
                { id: 'field3', type: 'number', label: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ', icon: 'fas fa-phone' },
                { id: 'field4', type: 'date', label: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…', icon: 'fas fa-calendar' },
                { id: 'field5', type: 'textarea', label: 'Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©', icon: 'fas fa-sticky-note' },
                { id: 'brainLibre', type: 'select', label: 'Brain Libre', options: ['0','1','2','3','4','5','6','7','8','9'], required: true, icon: 'fas fa-brain' }
            ],
            storage: {
                basePath: 'IMG/',  // ğŸ“ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„ØµÙˆØ±
                structure: 'by-code'  // 'flat' or 'by-code' or 'by-date'
            }
        };
        
        // ğŸ—„ï¸ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let selectedCode = null;
        let firstPhotos = [];
        let secondPhotos = [];
        let currentPhotoIndex = null;
        let currentPhotoSet = null;
        let cameraStream = null;
        let isFrontCamera = false;
        let formData = {};
        let isEditMode = false;
        
        // ğŸ“ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        const fileSystem = {
            IMG: {
                'CODE001': { photos: [], data: [] },
                'CODE002': { photos: [], data: [] },
                'CODE003': { photos: [], data: [] },
                'CODE004': { photos: [], data: [] },
                'CODE005': { photos: [], data: [] }
            }
        };
        
        // ğŸš€ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function initApp() {
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† LocalStorage
            loadSettings();
            
            // Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯
            createCodeCards();
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø¨ÙƒØ§Øª Ø§Ù„ØµÙˆØ±
            createPhotoGrids();
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø®ØµØµØ©
            createCustomFields();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
            updateTitles();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
            setTimeout(() => {
                showAlert('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…! ÙŠÙ…ÙƒÙ†Ùƒ ØªØ®ØµÙŠØµ ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….', 'success');
            }, 1000);
        }
        
        // ğŸ”§ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function toggleControlPanel() {
            const panel = document.getElementById('controlPanel');
            panel.classList.toggle('active');
        }
        
        // ğŸ¨ ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø§Øª
        function changeTheme(themeName) {
            const themes = {
                blue: { primary: '#2E86AB', secondary: '#A23B72', accent: '#F18F01' },
                green: { primary: '#2E7D32', secondary: '#558B2F', accent: '#9E9D24' },
                purple: { primary: '#6A1B9A', secondary: '#8E24AA', accent: '#BA68C8' },
                red: { primary: '#C62828', secondary: '#D32F2F', accent: '#EF5350' }
            };
            
            const theme = themes[themeName] || themes.blue;
            
            document.documentElement.style.setProperty('--primary', theme.primary);
            document.documentElement.style.setProperty('--secondary', theme.secondary);
            document.documentElement.style.setProperty('--accent', theme.accent);
            
            showAlert(`ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù…Ø© Ø¥Ù„Ù‰ ${themeName}`, 'success');
            saveSettings();
        }
        
        // ğŸ“ ØªØºÙŠÙŠØ± Ø§Ù„ØªØ®Ø·ÙŠØ·
        function changeLayout() {
            const layoutType = prompt('Ø£Ø¯Ø®Ù„ Ù†ÙˆØ¹ Ø§Ù„ØªØ®Ø·ÙŠØ· (1: Ø¹Ù…ÙˆØ¯ÙŠ, 2: Ø£ÙÙ‚ÙŠ, 3: Ø´Ø¨ÙƒÙŠ):', '1');
            
            const layouts = {
                '1': 'vertical',
                '2': 'horizontal',
                '3': 'grid'
            };
            
            if (layouts[layoutType]) {
                document.body.classList.remove('layout-horizontal', 'layout-grid');
                document.body.classList.add(`layout-${layouts[layoutType]}`);
                showAlert('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„ØªØ®Ø·ÙŠØ·', 'success');
                saveSettings();
            }
        }
        
        // âœï¸ ØªØºÙŠÙŠØ± Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
        function renameSections() {
            const newMainTitle = prompt('Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', document.getElementById('mainTitle').textContent);
            const newSubtitle = prompt('Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ±Ø¹ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', document.getElementById('mainSubtitle').textContent);
            
            if (newMainTitle) document.getElementById('mainTitle').textContent = newMainTitle;
            if (newSubtitle) document.getElementById('mainSubtitle').textContent = newSubtitle;
            
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ù‡Ù†Ø§
            showAlert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†', 'success');
            saveSettings();
        }
        
        // â• Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ Ø¬Ø¯ÙŠØ¯
        function addNewField() {
            const fieldType = prompt('Ù†ÙˆØ¹ Ø§Ù„Ø­Ù‚Ù„ (text, number, select, date, textarea):', 'text');
            const fieldLabel = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ù‚Ù„:', 'Ø­Ù‚Ù„ Ø¬Ø¯ÙŠØ¯');
            const fieldId = `field_${Date.now()}`;
            
            if (fieldType && fieldLabel) {
                const newField = {
                    id: fieldId,
                    type: fieldType,
                    label: fieldLabel,
                    icon: 'fas fa-plus'
                };
                
                APP_CONFIG.customFields.push(newField);
                createCustomFields();
                showAlert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„: ${fieldLabel}`, 'success');
                saveSettings();
            }
        }
        
        // â– Ø­Ø°Ù Ø­Ù‚Ù„
        function removeField() {
            const fieldsList = APP_CONFIG.customFields.map(f => f.label).join('\n');
            const fieldIndex = prompt(`Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø­Ù‚Ù„ Ù„Ø­Ø°ÙÙ‡:\n${fieldsList}\n\n(0-${APP_CONFIG.customFields.length-1}):`, '0');
            
            const index = parseInt(fieldIndex);
            if (!isNaN(index) && index >= 0 && index < APP_CONFIG.customFields.length) {
                const removedField = APP_CONFIG.customFields.splice(index, 1)[0];
                createCustomFields();
                showAlert(`ØªÙ… Ø­Ø°Ù Ø­Ù‚Ù„: ${removedField.label}`, 'success');
                saveSettings();
            }
        }
        
        // ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„
        function reorderFields() {
            enableDragAndDrop();
            showAlert('Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§', 'success');
        }
        
        // ğŸ”¤ Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯
        function addNewCode() {
            const codeId = prompt('Ø±Ù…Ø² Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ù…Ø«Ù„ CODE009):', 'CODE009');
            const codeName = prompt('Ø§Ø³Ù… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯:', 'Ù…Ù†Ø·Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©');
            
            if (codeId && codeName) {
                const newCode = {
                    id: codeId,
                    name: codeName,
                    color: getRandomColor()
                };
                
                APP_CONFIG.codes.push(newCode);
                createCodeCards();
                showAlert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯: ${codeId} - ${codeName}`, 'success');
                saveSettings();
            }
        }
        
        // âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯
        function editCodes() {
            const codesList = APP_CONFIG.codes.map((c, i) => `${i}: ${c.id} - ${c.name}`).join('\n');
            const editChoice = prompt(`Ø§Ø®ØªØ± Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„:\n${codesList}\n\nØ£Ùˆ Ø§ÙƒØªØ¨ "new" Ù„Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø¬Ø¯ÙŠØ¯:`, '0');
            
            if (editChoice === 'new') {
                addNewCode();
                return;
            }
            
            const index = parseInt(editChoice);
            if (!isNaN(index) && index >= 0 && index < APP_CONFIG.codes.length) {
                const newName = prompt('Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯:', APP_CONFIG.codes[index].name);
                if (newName) {
                    APP_CONFIG.codes[index].name = newName;
                    createCodeCards();
                    showAlert('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯', 'success');
                    saveSettings();
                }
            }
        }
        
        // ğŸ“· ØªØºÙŠÙŠØ± Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ±
        function changePhotoCount() {
            const firstCount = prompt('Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø£ÙˆÙ„Ù‰:', APP_CONFIG.photoCount.firstSet);
            const secondCount = prompt('Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', APP_CONFIG.photoCount.secondSet);
            
            const first = parseInt(firstCount);
            const second = parseInt(secondCount);
            
            if (!isNaN(first) && !isNaN(second) && first > 0 && second > 0) {
                APP_CONFIG.photoCount.firstSet = first;
                APP_CONFIG.photoCount.secondSet = second;
                
                firstPhotos = new Array(first).fill(null);
                secondPhotos = new Array(second).fill(null);
                
                createPhotoGrids();
                showAlert(`ØªÙ… ØªØºÙŠÙŠØ± Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± Ø¥Ù„Ù‰ ${first} + ${second}`, 'success');
                saveSettings();
            }
        }
        
        // ğŸ—ƒï¸ Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø£ÙƒÙˆØ§Ø¯
        function createCodeCards() {
            const container = document.getElementById('codesContainer');
            container.innerHTML = '';
            
            APP_CONFIG.codes.forEach((code, index) => {
                const codeCard = document.createElement('div');
                codeCard.className = 'code-item';
                codeCard.style.borderColor = code.color;
                codeCard.innerHTML = `
                    <div class="code-number">${code.id}</div>
                    <div class="code-name">${code.name}</div>
                `;
                
                codeCard.onclick = () => selectCode(code.id);
                container.appendChild(codeCard);
            });
        }
        
        // ğŸ¯ Ø§Ø®ØªÙŠØ§Ø± ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
        function selectCode(codeId) {
            selectedCode = codeId;
            
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            document.querySelectorAll('.code-item').forEach(card => {
                card.classList.remove('selected');
                card.classList.remove('pulse');
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
            const selectedCard = Array.from(document.querySelectorAll('.code-item'))
                .find(card => card.querySelector('.code-number').textContent === codeId);
            
            if (selectedCard) {
                selectedCard.classList.add('selected');
                selectedCard.classList.add('pulse');
                
                const codeInfo = APP_CONFIG.codes.find(c => c.id === codeId);
                showAlert(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${codeId} - ${codeInfo.name}`, 'success');
                
                // ØªÙ…ÙƒÙŠÙ† Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØµÙˆØ±
                enablePhotoSections();
            }
        }
        
        // ğŸ“· ØªÙ…ÙƒÙŠÙ† Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØµÙˆØ±
        function enablePhotoSections() {
            document.getElementById('firstPhotosSection').style.opacity = '1';
            document.getElementById('secondPhotosSection').style.opacity = '1';
            document.getElementById('customFieldsSection').style.opacity = '1';
        }
        
        // ğŸ–¼ï¸ Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø¨ÙƒØ§Øª Ø§Ù„ØµÙˆØ±
        function createPhotoGrids() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØµÙÙˆÙØ§Øª
            firstPhotos = new Array(APP_CONFIG.photoCount.firstSet).fill(null);
            secondPhotos = new Array(APP_CONFIG.photoCount.secondSet).fill(null);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø£ÙˆÙ„Ù‰
            const firstGrid = document.getElementById('firstPhotosGrid');
            firstGrid.innerHTML = '';
            
            for (let i = 0; i < APP_CONFIG.photoCount.firstSet; i++) {
                createPhotoCard(firstGrid, i, 'first');
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©
            const secondGrid = document.getElementById('secondPhotosGrid');
            secondGrid.innerHTML = '';
            
            for (let i = 0; i < APP_CONFIG.photoCount.secondSet; i++) {
                createPhotoCard(secondGrid, i, 'second');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
            updatePhotoCounters();
        }
        
        // ğŸ–¼ï¸ Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© ØµÙˆØ±Ø©
        function createPhotoCard(container, index, setType) {
            const photoCard = document.createElement('div');
            photoCard.className = 'photo-card';
            photoCard.dataset.index = index;
            photoCard.dataset.set = setType;
            
            const photoNumber = document.createElement('div');
            photoNumber.className = 'photo-number';
            photoNumber.textContent = setType === 'first' ? index + 1 : index + 1 + APP_CONFIG.photoCount.firstSet;
            
            const cameraIcon = document.createElement('div');
            cameraIcon.className = 'camera-icon';
            cameraIcon.innerHTML = '<i class="fas fa-camera"></i>';
            cameraIcon.style.fontSize = '3rem';
            cameraIcon.style.color = 'var(--primary)';
            
            photoCard.appendChild(photoNumber);
            photoCard.appendChild(cameraIcon);
            
            photoCard.onclick = () => openCamera(index, setType);
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            photoCard.draggable = true;
            photoCard.ondragstart = (e) => dragPhoto(e, index, setType);
            photoCard.ondragover = (e) => e.preventDefault();
            photoCard.ondrop = (e) => dropPhoto(e, index, setType);
            
            container.appendChild(photoCard);
        }
        
        // ğŸ“¸ ÙØªØ­ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
        async function openCamera(index, setType) {
            currentPhotoIndex = index;
            currentPhotoSet = setType;
            
            document.getElementById('cameraModal').style.display = 'block';
            
            try {
                const constraints = {
                    video: {
                        facingMode: isFrontCamera ? "user" : "environment",
                        width: { ideal: 1920 },
                        height: { ideal: 1080 }
                    }
                };
                
                cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
                document.getElementById('cameraVideo').srcObject = cameraStream;
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§:', error);
                uploadPhotoFallback(index, setType);
            }
        }
        
        // ğŸ“¤ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¨Ø¯ÙŠÙ„Ø©
        function uploadPhotoFallback(index, setType) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.capture = 'environment';
            
            input.onchange = (e) => {
                if (e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        savePhoto(event.target.result, index, setType);
                        closeCamera();
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            };
            
            input.click();
        }
        
        // ğŸ”„ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
        function switchCamera() {
            isFrontCamera = !isFrontCamera;
            closeCamera();
            setTimeout(() => openCamera(currentPhotoIndex, currentPhotoSet), 100);
        }
        
        // ğŸ“‚ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ø§Ù„Ù…Ø¹Ø±Ø¶
        function uploadFromGallery() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.multiple = false;
            
            input.onchange = (e) => {
                if (e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        savePhoto(event.target.result, currentPhotoIndex, currentPhotoSet);
                        closeCamera();
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            };
            
            input.click();
        }
        
        // ğŸ“· Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø©
        function capturePhoto() {
            const video = document.getElementById('cameraVideo');
            const canvas = document.createElement('canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            const context = canvas.getContext('2d');
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø©
            const quality = 0.9;
            const imageData = canvas.toDataURL('image/jpeg', quality);
            
            savePhoto(imageData, currentPhotoIndex, currentPhotoSet);
            closeCamera();
        }
        
        // ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©
        function savePhoto(imageData, index, setType) {
            // Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ù…ØµÙÙˆÙØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
            if (setType === 'first') {
                firstPhotos[index] = imageData;
            } else {
                secondPhotos[index] = imageData;
            }
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updatePhotoCard(index, setType, imageData);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
            updatePhotoCounters();
            
            // Ø­ÙØ¸ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            saveToFileSystem(imageData, index, setType);
            
            showAlert(`ØªÙ… Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© ${index + 1}`, 'success');
        }
        
        // ğŸ–¼ï¸ ØªØ­Ø¯ÙŠØ« Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØµÙˆØ±Ø©
        function updatePhotoCard(index, setType, imageData) {
            const card = document.querySelector(`.photo-card[data-index="${index}"][data-set="${setType}"]`);
            if (card) {
                card.classList.add('has-image');
                card.innerHTML = `
                    <div class="photo-number">${setType === 'first' ? index + 1 : index + 1 + APP_CONFIG.photoCount.firstSet}</div>
                    <img src="${imageData}" class="photo-preview">
                `;
                
                // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø±
                card.onclick = () => openCamera(index, setType);
            }
        }
        
        // ğŸ”¢ ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØ±
        function updatePhotoCounters() {
            const firstCount = firstPhotos.filter(p => p).length;
            const secondCount = secondPhotos.filter(p => p).length;
            
            document.getElementById('firstPhotosCounter').textContent = `${firstCount}/${APP_CONFIG.photoCount.firstSet} ØµÙˆØ±`;
            document.getElementById('secondPhotosCounter').textContent = `${secondCount}/${APP_CONFIG.photoCount.secondSet} ØµÙˆØ±`;
            
            // ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø¹Ø¯Ø§Ø¯
            const firstCounter = document.getElementById('firstPhotosCounter');
            const secondCounter = document.getElementById('secondPhotosCounter');
            
            firstCounter.style.color = firstCount === APP_CONFIG.photoCount.firstSet ? 'var(--success)' : 'var(--primary)';
            secondCounter.style.color = secondCount === APP_CONFIG.photoCount.secondSet ? 'var(--success)' : 'var(--primary)';
        }
        
        // âŒ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
        function closeCamera() {
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
                cameraStream = null;
            }
            document.getElementById('cameraModal').style.display = 'none';
        }
        
        // ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø®ØµØµØ©
        function createCustomFields() {
            const container = document.getElementById('fieldsContainer');
            container.innerHTML = '';
            
            // Ø¥Ù†Ø´Ø§Ø¡ ØµÙÙˆÙ Ø§Ù„Ø­Ù‚ÙˆÙ„
            const fieldsPerRow = 2;
            for (let i = 0; i < APP_CONFIG.customFields.length; i += fieldsPerRow) {
                const rowFields = APP_CONFIG.customFields.slice(i, i + fieldsPerRow);
                
                const row = document.createElement('div');
                row.className = 'field-row';
                
                rowFields.forEach(field => {
                    const fieldGroup = document.createElement('div');
                    fieldGroup.className = 'field-group';
                    fieldGroup.dataset.fieldId = field.id;
                    
                    const label = document.createElement('label');
                    label.className = 'field-label';
                    label.innerHTML = `<i class="${field.icon}"></i> ${field.label}${field.required ? ' *' : ''}`;
                    
                    let input;
                    
                    switch(field.type) {
                        case 'select':
                            input = document.createElement('select');
                            if (field.options) {
                                field.options.forEach(option => {
                                    const optionEl = document.createElement('option');
                                    optionEl.value = option;
                                    optionEl.textContent = option;
                                    input.appendChild(optionEl);
                                });
                            }
                            break;
                        case 'textarea':
                            input = document.createElement('textarea');
                            input.rows = 4;
                            break;
                        case 'date':
                            input = document.createElement('input');
                            input.type = 'date';
                            break;
                        case 'number':
                            input = document.createElement('input');
                            input.type = 'number';
                            break;
                        default:
                            input = document.createElement('input');
                            input.type = 'text';
                    }
                    
                    input.id = `field_${field.id}`;
                    input.placeholder = `Ø£Ø¯Ø®Ù„ ${field.label}`;
                    if (field.required) input.required = true;
                    
                    // Ø¥Ø¶Ø§ÙØ© Ù‚ÙŠÙ…Ø© Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
                    if (formData[field.id]) {
                        input.value = formData[field.id];
                    }
                    
                    fieldGroup.appendChild(label);
                    fieldGroup.appendChild(input);
                    row.appendChild(fieldGroup);
                });
                
                container.appendChild(row);
            }
            
            // ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±
            if (isEditMode) {
                enableDragAndDrop();
            }
        }
        
        // ğŸ¯ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
        let draggedField = null;
        
        function enableDragAndDrop() {
            const fields = document.querySelectorAll('.field-group');
            fields.forEach(field => {
                field.draggable = true;
                field.ondragstart = (e) => {
                    draggedField = field;
                    field.style.opacity = '0.5';
                };
                field.ondragend = () => {
                    field.style.opacity = '1';
                    draggedField = null;
                };
                field.ondragover = (e) => {
                    e.preventDefault();
                    field.classList.add('drag-over');
                };
                field.ondragleave = () => {
                    field.classList.remove('drag-over');
                };
                field.ondrop = (e) => {
                    e.preventDefault();
                    field.classList.remove('drag-over');
                    
                    if (draggedField !== field) {
                        const fieldId = draggedField.dataset.fieldId;
                        const targetId = field.dataset.fieldId;
                        
                        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙÙŠ Ø§Ù„ØªÙƒÙˆÙŠÙ†
                        const fromIndex = APP_CONFIG.customFields.findIndex(f => f.id === fieldId);
                        const toIndex = APP_CONFIG.customFields.findIndex(f => f.id === targetId);
                        
                        if (fromIndex > -1 && toIndex > -1) {
                            const [movedField] = APP_CONFIG.customFields.splice(fromIndex, 1);
                            APP_CONFIG.customFields.splice(toIndex, 0, movedField);
                            
                            createCustomFields();
                            saveSettings();
                            showAlert('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'success');
                        }
                    }
                };
            });
        }
        
        function dragPhoto(e, index, setType) {
            e.dataTransfer.setData('text/plain', JSON.stringify({ index, setType }));
        }
        
        function dropPhoto(e, targetIndex, targetSet) {
            e.preventDefault();
            const data = JSON.parse(e.dataTransfer.getData('text/plain'));
            
            if (data.setType === targetSet) {
                // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
                const sourceArray = data.setType === 'first' ? firstPhotos : secondPhotos;
                const temp = sourceArray[data.index];
                sourceArray[data.index] = sourceArray[targetIndex];
                sourceArray[targetIndex] = temp;
                
                createPhotoGrids();
                showAlert('ØªÙ… ØªØ¨Ø¯ÙŠÙ„ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØµÙˆØ±', 'success');
            }
        }
        
        // ğŸ“¤ Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function collectFormData() {
            const data = {
                code: selectedCode,
                timestamp: new Date().toISOString(),
                firstPhotos: firstPhotos.filter(p => p),
                secondPhotos: secondPhotos.filter(p => p),
                fields: {}
            };
            
            // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ù‚ÙˆÙ„
            APP_CONFIG.customFields.forEach(field => {
                const input = document.getElementById(`field_${field.id}`);
                if (input) {
                    data.fields[field.id] = input.value;
                }
            });
            
            return data;
        }
        
        // ğŸ“ Ø­ÙØ¸ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„ÙØ§Øª
        function saveToFileSystem(imageData, index, setType) {
            if (!selectedCode) return;
            
            const fileName = `${selectedCode}_${setType}_${index + 1}_${Date.now()}.jpg`;
            const photoData = {
                fileName: fileName,
                data: imageData,
                timestamp: new Date().toISOString(),
                setType: setType,
                index: index
            };
            
            // Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©
            if (!fileSystem.IMG[selectedCode]) {
                fileSystem.IMG[selectedCode] = { photos: [], data: [] };
            }
            
            fileSystem.IMG[selectedCode].photos.push(photoData);
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø­ÙØ¸ ÙÙŠ LocalStorage
            localStorage.setItem(`IMG_${selectedCode}_${fileName}`, JSON.stringify(photoData));
            
            console.log('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„ÙØ§Øª:', fileName);
        }
        
        // ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function submitAllData() {
            if (!selectedCode) {
                showAlert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙˆØ±
            if (firstPhotos.filter(p => p).length !== APP_CONFIG.photoCount.firstSet) {
                showAlert(`ÙŠØ¬Ø¨ Ø±ÙØ¹ ${APP_CONFIG.photoCount.firstSet} ØµÙˆØ± Ø£ÙˆÙ„ÙŠØ©`, 'error');
                return;
            }
            
            if (secondPhotos.filter(p => p).length !== APP_CONFIG.photoCount.secondSet) {
                showAlert(`ÙŠØ¬Ø¨ Ø±ÙØ¹ ${APP_CONFIG.photoCount.secondSet} ØµÙˆØ± Ø«Ø§Ù†ÙˆÙŠØ©`, 'error');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            let missingFields = [];
            APP_CONFIG.customFields.forEach(field => {
                if (field.required) {
                    const input = document.getElementById(`field_${field.id}`);
                    if (!input || !input.value.trim()) {
                        missingFields.push(field.label);
                    }
                }
            });
            
            if (missingFields.length > 0) {
                showAlert(`Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªØ§Ù„ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø©: ${missingFields.join(', ')}`, 'error');
                return;
            }
            
            // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const submissionData = collectFormData();
            
            // Ø­ÙØ¸ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„ÙØ§Øª
            fileSystem.IMG[selectedCode].data.push(submissionData);
            
            // Ø­ÙØ¸ ÙÙŠ LocalStorage
            localStorage.setItem(`submission_${selectedCode}_${Date.now()}`, JSON.stringify(submissionData));
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            simulateSubmission(submissionData);
            
            showAlert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            
            // Ø¹Ø±Ø¶ Ø±Ø§Ø¨Ø· Ù„Ù„ØªØ­Ù…ÙŠÙ„
            setTimeout(() => {
                const downloadLink = generateDownloadLink(submissionData);
                showAlert(`ğŸ“¥ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†: ${downloadLink}`, 'success');
            }, 1000);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            setTimeout(() => {
                clearForm();
            }, 3000);
        }
        
        // ğŸ’¾ Ø­ÙØ¸ ÙƒÙ…Ø³ÙˆØ¯Ø©
        function saveAsDraft() {
            if (!selectedCode) {
                showAlert('Ø§Ø®ØªØ± ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }
            
            const draftData = collectFormData();
            draftData.status = 'draft';
            draftData.savedAt = new Date().toISOString();
            
            localStorage.setItem(`draft_${selectedCode}_${Date.now()}`, JSON.stringify(draftData));
            showAlert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ…Ø³ÙˆØ¯Ø©', 'success');
        }
        
        // ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        function clearForm() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')) {
                selectedCode = null;
                firstPhotos = new Array(APP_CONFIG.photoCount.firstSet).fill(null);
                secondPhotos = new Array(APP_CONFIG.photoCount.secondSet).fill(null);
                formData = {};
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                document.querySelectorAll('.code-item').forEach(card => {
                    card.classList.remove('selected', 'pulse');
                });
                
                createPhotoGrids();
                createCustomFields();
                
                showAlert('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        }
        
        // ğŸ“¤ Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        function simulateSubmission(data) {
            console.log('Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', {
                code: data.code,
                photos: data.firstPhotos.length + data.secondPhotos.length,
                fields: data.fields,
                timestamp: new Date().toISOString()
            });
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const dataStr = JSON.stringify(data, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø±ÙØ¹ Ø¥Ù„Ù‰ Google Drive
            console.log('Ø±ÙØ¹ Ø¥Ù„Ù‰ Google Drive:', {
                folder: `IMG/${data.code}`,
                files: data.firstPhotos.length + data.secondPhotos.length + 1,
                timestamp: new Date().toISOString()
            });
        }
        
        // ğŸ”— Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„
        function generateDownloadLink(data) {
            const dataStr = JSON.stringify(data, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `${data.code}_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            return `ØªÙ… ØªØ­Ù…ÙŠÙ„: ${link.download}`;
        }
        
        // ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function saveSettings() {
            localStorage.setItem('app_config', JSON.stringify(APP_CONFIG));
        }
        
        // ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function loadSettings() {
            const savedConfig = localStorage.getItem('app_config');
            if (savedConfig) {
                Object.assign(APP_CONFIG, JSON.parse(savedConfig));
            }
        }
        
        // ğŸ¨ ØªÙˆÙ„ÙŠØ¯ Ù„ÙˆÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        function getRandomColor() {
            const colors = ['#2E86AB', '#A23B72', '#F18F01', '#4CAF50', '#9C27B0', '#FF5722', '#607D8B', '#795548'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // ğŸ·ï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
        function updateTitles() {
            // ÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ù‡Ù†Ø§
        }
        
        // ğŸ“Š ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportAllData() {
            const allData = {
                config: APP_CONFIG,
                submissions: [],
                fileSystem: fileSystem
            };
            
            // Ø¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…Ø§Øª Ù…Ù† LocalStorage
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.startsWith('submission_') || key.startsWith('draft_')) {
                    allData.submissions.push(JSON.parse(localStorage.getItem(key)));
                }
            }
            
            const dataStr = JSON.stringify(allData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `all_data_export_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showAlert('ØªÙ… ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'success');
        }
        
        // ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function clearAllData() {
            if (confirm('âš ï¸ ØªØ­Ø°ÙŠØ±: Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª! Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ')) {
                localStorage.clear();
                location.reload();
            }
        }
        
        // ğŸ’¾ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
        function backupData() {
            const backup = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                backup[key] = localStorage.getItem(key);
            }
            
            const backupStr = JSON.stringify(backup, null, 2);
            const blob = new Blob([backupStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `backup_${new Date().toISOString().replace(/[:.]/g, '-')}.json`;
            link.click();
            
            showAlert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©', 'success');
        }
        
        // ğŸ”” Ø¹Ø±Ø¶ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
        function showAlert(message, type) {
            const alertDiv = document.getElementById('mainAlert');
            alertDiv.textContent = message;
            alertDiv.className = `alert alert-${type}`;
            alertDiv.style.display = 'flex';
            
            setTimeout(() => {
                alertDiv.style.display = 'none';
            }, 5000);
        }
        
        // ğŸš€ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        window.onload = initApp;
    </script>
</body>
</html>
